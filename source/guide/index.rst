技术方案
=========

通讯方式
---------

- 子报文域为JSON报文接口，相关业务交易接口JSON序列化以后，AES加密BASE64处理后置为通信请求字段的bizData字段。

- 设置 通信请求字段_ 各请求报文字段具体相关值信息，对 通信请求字段_ json序列化以后POST到立收交易平台。

- 前台跳转类为GET 参数机制回传给合作机构。

- 异步回调接口和 通信请求字段_ 报文结构一致， 异步回调处理完成后回复“SUCCESS“,立收平台停止上送相关信息。

安全要求
-----------

上送到立收的平台的每一笔交易需使用RSA非对称密钥进行签名上送。

报文的签名机制
---------------

取 通信请求字段_ 各个域名域值，将对应域以key=value&key1=value1 方式，域名排序方式采用
ASCII码排序， 算法以SHA256WithRSA方式计算签名，签名结果BASE64编码后，设置到
Signature字段。


报文的验签机制
---------------

- 对 通信请求字段_ 报文中出现签名域（signature）之外的所有字段采用key=value的形式按照名称排序，然后以&作为连接符拼接成待签名串。
- 对待签名串使用SHA-256算法做摘要，再使用商户入网时立收平台提供的验签公钥对摘要和报文中的签名信息做签名验证操作。

.. _通信请求字段: ../fields/index.html#id5

