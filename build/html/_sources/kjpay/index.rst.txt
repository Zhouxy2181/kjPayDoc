快捷交易接口
=================================

交易概览
----------------------------------------------------------------------

立收产品包括以下交易类型

+-----------------+-------------------------------------+------------+
|  接口名称       |           功能说明                  |  交易代码  |
+-----------------+-------------------------------------+------------+
| 快捷签约（前台）| 会员跳转银联页面输入相关要素完成，签|  S2001     |
|                 | 约，签通过后，后台会收到异步回调签约|            |
|                 | 的结果，签约成功后即可发起支付服务  |            |
+-----------------+-------------------------------------+------------+
| 签约状态查询    | 查询S2001签约结果                   |  S2002     |
+-----------------+-------------------------------------+------------+
| 签约结果异步回调| 立收后台收到银联回调的签约结果后，回|  N2003     |
|                 | 调合作机构签约结果                  |            |
+-----------------+-------------------------------------+------------+
| 签约完成前台跳转| 会员签约完成后跳转到合作机构上送的前|  N2004     |
|                 | 台跳转地址                          |            |
+-----------------+-------------------------------------+------------+
| 快捷支付创建订单| 用户上送相关签约信息（N2003/S2002） |  P2005     |
|                 | 返回，支付服务                      |            |
+-----------------+-------------------------------------+------------+
| 快捷支付确认    | 上送验证码确认支付                  |  P2006     |
+-----------------+-------------------------------------+------------+
| 支付结果查询    | 支付结果查询                        |  P2020     |
+-----------------+-------------------------------------+------------+
| 支付结果异步回调| 支付结果异步回调给合作机构          |  N2007     |
+-----------------+-------------------------------------+------------+


快捷签约（前台）-S2001
-----------------------

概述
~~~~~

会员上送相关信息调用快捷签约接口，在返回的H5页面中完成签约操作。

交易流程
~~~~~~~~~

- 用户发起签约服务，调用签约接口，返回H5链接；
- 用户在页面输入相关信息完成签约；
- 签约结果异步回调或者同步查询。
  
请求报文
~~~~~~~~~

+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    序号   |     域名       |     变量名      |    出现要求    |                 备注                         |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    1      |  产品码        |  prodCode       |      M         |  快捷产品代码                                |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    2      |  用户ID        |  userId         |      M         |  立收用户ID                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    3      |  用户姓名      |  userName       |      M         |  用户姓名                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    4      |  签约账号      |  priAcctNo      |      M         |  签约账号                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    5      |  预留手机号    |  bankPhoneNo    |      M         |  支付卡预留手机号                            |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    6      |  前台跳转地址  |  forwardURL     |      M         |  签约完成后跳转地址                          |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 

 
应答报文
~~~~~~~~

+-----------+----------------+----------------+----------------+-----------------------------------------------+
|   序号    |      域名      |     变量名     |    出现要求    |                 备注                          |
+-----------+----------------+----------------+----------------+-----------------------------------------------+
|    1      |    响应码      |    respCode    |       M        |    应答码                                     |
+-----------+----------------+----------------+----------------+-----------------------------------------------+
|    2      |  应答信息      |    respMsg     |       M        |    应答信息                                   |
+-----------+----------------+----------------+----------------+-----------------------------------------------+
|    3      |  h5-页面       |   h5Conteng    |       R        |    成功时返回H5页面                           |
+-----------+----------------+----------------+----------------+-----------------------------------------------+


签约结果异步回调
~~~~~~~~~~~~~~~~~

+-----------+----------------+-----------------+----------------+-----------------------------------------------+
|   序号    |      域名      |     变量名      |    出现要求    |                 备注                          |
+-----------+----------------+-----------------+----------------+-----------------------------------------------+
|    1      |    响应码      |    respCode     |       M        |    应答码                                     |
+-----------+----------------+-----------------+----------------+-----------------------------------------------+
|    2      |  应答信息      |    respMsg      |       M        |    应答信息                                   |
+-----------+----------------+-----------------+----------------+-----------------------------------------------+
|    3      |  签约流水号    |   origRequestNo |       R        |    签约流水号                                 |
+-----------+----------------+-----------------+----------------+-----------------------------------------------+ 
|    4      |  用户号        |    userId       |       R        |    用户id                                     |
+-----------+----------------+-----------------+----------------+-----------------------------------------------+ 
|    5      |  签约卡号      |    priAcctNo    |       R        |    签约卡号                                   |
+-----------+----------------+-----------------+----------------+-----------------------------------------------+ 
|    6      |  签约状态      |    tradeStatus  |       R        |                                               |
+-----------+----------------+-----------------+----------------+-----------------------------------------------+ 
|    7      |  绑卡序号      |    bindCardId   |       R        |    绑卡序号                                   |
+-----------+----------------+-----------------+----------------+-----------------------------------------------+ 


签约查询-S2002
---------------

概述
~~~~

查询S2001签约状态

交易流程
~~~~~~~~

- 合作机构发起交易状态查询交易；
- 立收系统完成交易处理；
- 查询后返回前端合作机构。

请求报文
~~~~~~~~~~

+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    序号   |     域名       |     变量名      |    出现要求    |                 备注                         |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    1      |  签约流水号    |  origRequestNo  |       M        |  签约流水号                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+

响应报文
~~~~~~~~~~

+-----------+----------------+-----------------+----------------+----------------------------------------------+
|   序号    |      域名      |     变量名      |    出现要求    |                备注                          |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    1      |    响应码      |    respCode     |       M        |    应答码                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    2      |  应答信息      |    respMsg      |       M        |    应答信息                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    3      |  原交易应答码  |  origRespCode   |       R        |                                              |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    4      |  原交易应答信息|  origRespMsg    |       R        |                                              |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    5      |  签约流水号    |  origRequestNo  |       R        |   签约流水号                                 |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    6      |  用户号        |  userId         |       R        |   用户id                                     |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    7      |  签约卡号      |  priAcctNo      |       R        |   签约卡号                                   |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    8      |  签约状态      |  tradeStatus    |       R        |                                              |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    9      |  绑卡序号      |  bindCardId     |       R        |   绑卡序号                                   |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 


签约页面前天跳转-N2004
-----------------------

概述
~~~~~

打开银联全渠道页面签约完成后，跳转到上送跳转地址

交易流程
~~~~~~~~~~

- 签约完成后，用户点击：返回商户，跳转到上送前台地址；
- 请求方式为GET请求，参数如下；

请求报文
~~~~~~~~~~

+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    序号   |     域名       |     变量名      |    出现要求    |                 备注                         |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    1      |   签约流水号   |  orgTrace       |      M         |  签约流水号                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    2      |   签约状态     |  activateStatus |      M         |  1-签约成功                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    3      |   签约时间     |  tsDate         |      M         |  YYYYMMDD                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    4      |   签约应答码   |  finRetCode     |      M         |  00-表示成功                                 |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 

样例:
https://www.baidu.com/?orgTrace=ORG0000220200515150422onmn5i&activateStatus=1&tsDate=20200515&finRetCode=00


快捷支付创建订单-P2005
----------------------

概述
~~~~~

快捷支付创建支付订单，上送绑定卡序列号、预留手机号完成支付下单操作流程。

交易流程
~~~~~~~~

- 合作机构快捷支付下单交易；
- 返回订单信息和订单状态；
- 渠道会下发用户验证码，在订单确认交易中上送短信验证码。

请求报文
~~~~~~~~~

+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    序号   |     域名       |     变量名      |    出现要求    |                 备注                         |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|     1     |  产品码        |   prodCode      |       M        |  快捷产品代码                                |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|     2     |  用户ID        |   userId        |       M        |  立收用户ID                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|     3     |  绑卡序号      |   userName      |       M        |  用户姓名                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|     4     |  金额          |   amount        |       M        |  交易金额                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|     5     |  预留手机号    |   bankPhoneNo   |       M        |  支付卡预留手机号                            |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|     6     |  支付回调地址  |   notifyURL     |       M        |  支付回调地址                                |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|     7     |  前台跳转地址  |   forwardURL    |       M        |  签约完成后跳转地址                          |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|     8     |  订单描述      |   orderDesc     |       M        |  订单信息                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 

应答报文
~~~~~~~~~

+-----------+----------------+-----------------+----------------+-----------------------------------------------+
|   序号    |      域名      |     变量名      |    出现要求    |                 备注                          |
+-----------+----------------+-----------------+----------------+-----------------------------------------------+
|    1      |    响应码      |    respCode     |       M        |    应答码                                     |
+-----------+----------------+-----------------+----------------+-----------------------------------------------+
|    2      |  应答信息      |    respMsg      |       M        |    应答信息                                   |
+-----------+----------------+-----------------+----------------+-----------------------------------------------+
|    3      |  用户号        |   userId        |       R        |    用户id                                     |
+-----------+----------------+-----------------+----------------+-----------------------------------------------+ 
|    4      |  订单状态      |   tradeStatus   |       R        |    订单状态                                   |
+-----------+----------------+-----------------+----------------+-----------------------------------------------+ 

支付结果异步回调-N2007
~~~~~~~~~~~~~~~~~~~~~~~

+-----------+----------------+-----------------+----------------+----------------------------------------------+
|   序号    |      域名      |     变量名      |    出现要求    |                 备注                         |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    1      |    响应码      |    respCode     |       M        |    应答码                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    2      |  应答信息      |    respMsg      |       M        |    应答信息                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    3      |  订单流水号    |   origRequestNo |       R        |    签约流水号                                |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    4      |  用户号        |   userId        |       R        |    用户id                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    5      |  支付金额      |   amount        |       R        |    支付金额                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    6      |  支付状态      |   tradeStatus   |       R        |    订单状态                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 


快捷支付确认-P2006
------------------

概述
~~~~

上送P2005原订单号，手机号，验证码发起确认。

交易流程
~~~~~~~~

- 合作机构快捷支付下单交易；
- 返回订单信息和订单状态、

请求报文
~~~~~~~~~

+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    序号   |     域名       |     变量名      |    出现要求    |                 备注                         |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    1      |   原订单流水号 |    origRequestNo|      M         |  支付流水号                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    2      |   原订单交易号 |    origTradeNo  |      M         |  支付交易号                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    3      |   验证码       |    smsCopde     |      M         |  用户姓名                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 

应答报文
~~~~~~~~~

+-----------+----------------+-----------------+----------------+----------------------------------------------+
|   序号    |      域名      |     变量名      |    出现要求    |                 备注                         |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    1      |    响应码      |    respCode     |       M        |    应答码                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    2      |  应答信息      |    respMsg      |       M        |    应答信息                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    3      |  用户号        |    userId       |       R        |    用户id                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    4      |  订单状态      |    tradeStatus  |       R        |    订单状态                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    5      |  支付金额      |    amount       |       R        |    订单金额                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 


快捷支付查询-P2020
------------------

概述
~~~~~

上送P2005原订单号，查询订单支付状态

交易流程
~~~~~~~~~

- 合作机构快捷支付查询交易状态；
- 返回订单信息和订单状态。

请求报文
~~~~~~~~~~

+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    序号   |     域名       |     变量名      |    出现要求    |                 备注                         |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|     1     |  原订单流水号  |  origRequestNo  |      M         |   支付流水号                                 |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|     2     |  原订单交易号  |  origTradeNo    |      C         |   支付交易号                                 |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 

应答报文
~~~~~~~~~~

+-----------+----------------+-----------------+----------------+----------------------------------------------+
|   序号    |      域名      |     变量名      |    出现要求    |                 备注                         |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    1      |    响应码      |    respCode     |       M        |    应答码                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    2      |  应答信息      |    respMsg      |       M        |    应答信息                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+
|    3      |  原交易应答码  |    origRespCode |       R        |                                              |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    4      |  原交易应答信息|    origRespMsg  |       R        |                                              |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    5      |  用户号        |    userId       |       R        |    用户id                                    |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    6      |  订单状态      |    tradeStatus  |       R        |    订单状态                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 
|    7      |  支付金额      |    amount       |       R        |    订单金额                                  |
+-----------+----------------+-----------------+----------------+----------------------------------------------+ 

